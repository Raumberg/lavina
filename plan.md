## План реализации (недели 1-4)

### Неделя 1-2: Фундамент (Tree-walking) [COMPLETED]
```
✓ Лексер: Токены, Сканер, Значимые отступы
✓ Парсер: AST, Выражения, Переменные, Функции, Директивы
✓ Type Checker: Статическая типизация, Null Safety, Вариативность
✓ Interpreter: Выполнение AST, Окружение, Нативные функции
✓ REPL: Интерактивная среда, Красивые ошибки в стиле Rust
```

### Неделя 3-4: Скорость (Bytecode & VM) [IN PROGRESS]
```
День 17-18: Набор инструкций и Chunk [COMPLETED]
  ✓ Определение OpCode
  ✓ Структура Chunk (байткод + константы)
  ✓ Дизассемблер для отладки

День 19-20: Стек и VM [COMPLETED]
  ✓ Реализация виртуальной машины на основе стека
  ✓ Цикл выборка-декодирование-исполнение
  ✓ Арифметические операции в VM

День 21-22: Компилятор байткода [COMPLETED]
  ✓ Генерация инструкций из AST
  ✓ Управление локальными переменными (слоты на стеке)
  ✓ Прыжки (Jumps) для условий и циклов (Backpatching)

День 23-24: Оптимизации и Функции [IN PROGRESS]
  ✓ Вызов функций в VM (Call frames)
  ✓ Замыкания в байткоде (В процессе)
  - Первый этап оптимизатора директив
  - Индексация коллекций (vec[i], map[k])
```

## Метрики успеха для каждой фазы

### Фаза 1 (Tree-walking) [COMPLETED]
- [x] Выполняет факториал 10
- [x] Имеет работающий REPL
- [x] Проверяет типы до выполнения
- [x] Null Safety (Static Analysis)
- [x] Поддерживает базовые директивы (Parsing)
- [x] Читабельные сообщения об ошибках (Rust-style)
- [x] Грамматика со значимыми отступами

### Фаза 2 (Bytecode) [IN PROGRESS]
- [x] В 10+ раз быстрее tree-walking
- [ ] Поддерживает замыкания (Closures / Upvalues)
- [ ] Имеет систему модулей
- [ ] Базовый сборщик мусора (наш текущий Rc - это начало)
- [x] Может выполнять нетривиальные программы (Рекурсия, Сложные типы)

### Фаза 3 (JIT/AOT)
- [ ] Сопоставимая производительность с нативными языками
- [ ] Поддержка многопоточности
- [ ] Standalone исполняемые файлы
- [ ] Полная документация
- [ ] Сообщество пользователей
