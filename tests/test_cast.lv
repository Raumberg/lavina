// Test 'as' keyword for type casting

void fn test_int_to_float():
    int x = 42
    float y = x as float
    lv_assert(y > 41.99 and y < 42.01, "int->float cast")

void fn test_float_to_int():
    float x = 3.14
    int y = x as int
    lv_assert(y == 3, "float->int cast")

void fn test_int_sizes():
    int x = 100
    int32 y = x as int32
    int64 z = y as int64
    lv_assert(y == 100, "int->int32 cast")
    lv_assert(z == 100, "int32->int64 cast")

void fn test_float_sizes():
    float x = 2.718
    float32 y = x as float32
    float64 z = y as float64
    lv_assert(y > 2.71 and y < 2.72, "float->float32 cast")
    lv_assert(z > 2.71 and z < 2.72, "float32->float64 cast")

void fn test_chained():
    int x = 42
    int32 y = x as float as int32
    lv_assert(y == 42, "chained cast int->float->int32")

void fn test_expr_cast():
    int a = 10
    int b = 20
    float c = (a + b) as float
    lv_assert(c > 29.99 and c < 30.01, "expr cast (10+20) as float")

void fn main():
    test_int_to_float()
    test_float_to_int()
    test_int_sizes()
    test_float_sizes()
    test_chained()
    test_expr_cast()
