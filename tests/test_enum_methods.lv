enum Shape:
    Circle(float radius)
    Square(float side)

    float fn area():
        match this:
            Circle(r):
                return 3.14159 * r * r
            Square(s):
                return s * s

    string fn to_string():
        match this:
            Circle(r):
                return "Circle(${r})"
            Square(s):
                return "Square(${s})"

void fn main():
    auto c = Shape::Circle(5.0)
    auto s = Shape::Square(3.0)
    lv_assert(c.area() > 78.53 and c.area() < 78.55, "circle area")
    lv_assert(s.area() > 8.99 and s.area() < 9.01, "square area")
    lv_assert(c.to_string().contains("Circle"), "circle to_string")
    lv_assert(s.to_string().contains("Square"), "square to_string")
    string interp = "Shape: ${c}"
    lv_assert(interp.contains("Circle"), "string interpolation with enum")
